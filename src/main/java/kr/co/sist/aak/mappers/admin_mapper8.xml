<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.aak.admin8">
	
	<!-- admin_dash_data -->
	<select id="selectCountAllMember" resultType ="int">
	select count(std_id)
	from student
	where del_yn = 'N'
	</select>
	
	<select id="selectCountAllInstructor" resultType ="int">
	select count(inst_id)
	from instructor
	where del_yn = 'N'
	</select>
	
	<select id="selectCountExitMember" resultType ="int">
	select count(std_id)
	from student
	where del_yn = 'Y'
	</select>
	
	<select id="selectCountNeedChkSubject" resultType ="int">
	select count(sub_code)
	from SUBJECT
	where status = 'N'
	</select>
	
	<select id="selectCountNeedChkQuestion" resultType ="int">
	select count(qna_no)
	from QNA_GEN_Q
	where status = 'N'
	</select>
	
	
	<select id="selectCountNewSignupMebmer" resultType ="int">
	select count(std_id)
	from STUDENT
	where del_yn = 'N' and TO_CHAR(SIGNUP_DATE, 'YYYY-MM-DD') = TO_CHAR(SYSDATE, 'YYYY-MM-DD')  
	</select>
	
	<select id="selectCountAllsubject" resultType ="int">
	select count(sub_code)
	from  SUBJECT
	where status= 'Y'
	</select>
	
	
	
	
	<select id="selectCountSignupMebmer" resultType ="DashBoardDomain">
	SELECT TO_CHAR(SIGNUP_DATE, 'YYYY-MM-DD') AS day, COUNT(qna_no) AS count
	FROM STUDENT
	WHERE TO_CHAR(SIGNUP_DATE, 'YYYY-MM') = TO_CHAR(SYSDATE, 'YYYY-MM')
	GROUP BY TO_CHAR(SIGNUP_DATE, 'YYYY-MM-DD')
	ORDER BY day
	</select>

	
	
</mapper>